<!doctype html>
<html lang="ru" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-is_local/API/04_1_Management_API" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.3.2">
<title data-rh="true">Создание и управление ботами | Compressa</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://compressa.ai/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://compressa.ai/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://compressa.ai/is_local/API/04_1_Management_API"><meta data-rh="true" property="og:locale" content="ru"><meta data-rh="true" name="docusaurus_locale" content="ru"><meta data-rh="true" name="docsearch:language" content="ru"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Создание и управление ботами | Compressa"><meta data-rh="true" name="description" content="В этой документации описаны методы API для создания поисковых (RAG) ботов и управления ими. Например, вы можете проверить статус ботов, посмотреть их список или добавить / удалить документы. Полный список доступных методов описан ниже."><meta data-rh="true" property="og:description" content="В этой документации описаны методы API для создания поисковых (RAG) ботов и управления ими. Например, вы можете проверить статус ботов, посмотреть их список или добавить / удалить документы. Полный список доступных методов описан ниже."><link data-rh="true" rel="icon" href="/img/logo-compressa.jpeg"><link data-rh="true" rel="canonical" href="https://compressa.ai/is_local/API/04_1_Management_API"><link data-rh="true" rel="alternate" href="https://compressa.ai/is_local/API/04_1_Management_API" hreflang="ru"><link data-rh="true" rel="alternate" href="https://compressa.ai/is_local/API/04_1_Management_API" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.78edbdd2.css">
<script src="/assets/js/runtime~main.c38a13f9.js" defer="defer"></script>
<script src="/assets/js/main.4b89fbc0.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Перейти к основному содержимому"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Перейти к основному содержимому</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Переключить навигационную панель" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-compressa.jpeg" alt="Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo-compressa.jpeg" alt="Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Compressa</b></a><a class="navbar__item navbar__link" href="/cloud/intro">Compressa Cloud</a><a class="navbar__item navbar__link" href="/llm_local/">Compressa LLM на своем сервере</a><a class="navbar__item navbar__link" href="/platform_local/">Сompressa Platform на своем сервере</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/is_local/intro_insightstream">InsightStream на своем сервере</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Переключение между темным и светлым режимом (сейчас используется Светлый режим)" aria-label="Переключение между темным и светлым режимом (сейчас используется Светлый режим)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Прокрутка к началу" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/is_local/intro_insightstream">Введение в InsightStream</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/is_local/system-requirements">Системные требования</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/is_local/installation-guide">Установка и развертывание</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/is_local/API/">Работа через API</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/is_local/API/04_1_Management_API">Создание и управление ботами</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/is_local/API/04_2_Assistant-Api-Search">Поиск информации (вопрос-ответ)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/is_local/API/04_3_Assistant-Api-Dialog">Поиск информации (диалог)</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/is_local/UI/">Работа через веб-интерфейс (UI)</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/is_local/UI/5.1_Bot_creation_UI">Интерфейс создания ассистента</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/is_local/UI/5.2_info_search_UI">Интерфейс поиска информации</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/is_local/logging_monitoring">Логгинг и мониторинг</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/is_local/backup">Резервное копирование и восстановление</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/is_local/update">Обновление системы</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Навигационная цепочка текущей страницы"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/is_local/API/"><span itemprop="name">Работа через API</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Создание и управление ботами</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Содержание этой страницы</button></div><div class="theme-doc-markdown markdown"><h1>Создание и управление ботами по API</h1>
<p>В этой документации описаны методы API для создания поисковых (RAG) ботов и управления ими. Например, вы можете проверить статус ботов, посмотреть их список или добавить / удалить документы. Полный список доступных методов описан ниже.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="создание-с-загрузкой-файлов">Создание с загрузкой файлов<a href="#создание-с-загрузкой-файлов" class="hash-link" aria-label="Прямая ссылка на Создание с загрузкой файлов" title="Прямая ссылка на Создание с загрузкой файлов">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X PUT http://base_url:8080/indexapi/bot/bot_id \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -H &quot;Authorization: Bearer YOUR_TOKEN_HERE&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -F &quot;files=@/path/to/test.pdf&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -F &quot;files=@/path/to/test2.pdf&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -F &quot;user_story=write_your_user_story_here&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -F &quot;sync=1&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -F &quot;time_to_eval=2025-04-02 14:49&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Параметры:</p>
<ul>
<li><code>YOUR_TOKEN_HERE</code> - токен для доступа по API</li>
<li><code>bot_id</code> - имя индекса, по которому будет доступен созданный бот</li>
<li><code>user_story</code> - краткое описание сценария использования (пользовательской истории)</li>
<li><code>sync</code> (необязательно) - флаг приоритета индексации (1 - высокий приоритет, индексация будет выполнена раньше запросов на создание бота без флага и раньше любых документов, которые добавляем в уже существующих ботов)</li>
<li><code>time_to_eval</code> (необязательно) - время, не раньше которого начнётся индексация (формат: YYYY-MM-DD HH<!-- -->:MM<!-- -->)</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>к сведению</div><div class="admonitionContent_BuS1"><p>Параметры <code>sync</code> и <code>time_to_eval</code> могут быть указаны одновременно.</p></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>примечание</div><div class="admonitionContent_BuS1"><p>Внутри данного метода есть параметр user_story, это описание сценария использования ассистента. Пользовательская история напрямую влияет на качество индексации и последующих ответов ассистента.</p><p>Для написания пользовательской истории рекомендуется отвечать на вопросы: <em>Кто будет использовать ассистента и зачем? Что важно при формировании ответа?</em></p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="примеры-user_story">Примеры user_story:<a href="#примеры-user_story" class="hash-link" aria-label="Прямая ссылка на Примеры user_story:" title="Прямая ссылка на Примеры user_story:">​</a></h3>
<p><strong>Пример 1:</strong>
&quot;Я, как инженер проектного отдела корпорации, хочу выяснить как действовать в сложной рабочей ситуации. Описав рабочую ситуацию, я хочу получить инструкцию что делать и к кому обратиться. Для меня важно получить контакты людей. Важно получить объясн ения что можно делать и что нельзя. Мне не нравятся общие ответы - я давно в компании и общие моменты знаю.&quot;</p>
<p><strong>Пример 2:</strong>
&quot;Я как сотрудник организации, который работает с разными корпоративными IT системами, хочу выяснить нужную мне информацию по работе одной из систем, получить помощь по своему вопросу, узнать как действовать в конкретной ситуации. Задав вопрос я хочу увидеть короткий и исчерпывающий ответ, содержащий всю необходимую информацию. Искажение фактов для меня самая серьезная проблема. В зависимости от вопроса не полное изложение фактов тоже может быть проблемой.&quot;</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ответы">Ответы:<a href="#ответы" class="hash-link" aria-label="Прямая ссылка на Ответы:" title="Прямая ссылка на Ответы:">​</a></h3>
<ul>
<li><code>202 Accepted</code> – команда на создание бота принята в обработку. Ответ будет содержать <code>command_id</code>.<!-- -->
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;command_id&quot;: &quot;some-unique-command-id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<p>Для отслеживания статуса выполнения используйте эндпоинты статуса команд (см. раздел &quot;Отслеживание статусов команд&quot;).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="создание-с-указанием-файлов-по-url">Создание с указанием файлов по URL<a href="#создание-с-указанием-файлов-по-url" class="hash-link" aria-label="Прямая ссылка на Создание с указанием файлов по URL" title="Прямая ссылка на Создание с указанием файлов по URL">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X PUT http://base_url:8080/indexapi/bot/bot_id/urls \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -H &quot;Authorization: Bearer YOUR_TOKEN_HERE&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -F &#x27;urls={&quot;type&quot;: &quot;direct_link&quot;, &quot;url&quot;: &quot;https://example.com/doc1.pdf&quot;}&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -F &quot;user_story=write_your_user_story_here&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -F &quot;sync=1&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -F &quot;time_to_eval=2025-04-02 14:49&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Параметры аналогичны запросу с загрузкой файлов, кроме:</p>
<ul>
<li><code>urls</code> – JSON-объект с URL-адресами. Непосредственно сам документ должен открываться по указанному URL (например, <a href="https://example.com/doc1.pdf" target="_blank" rel="noopener noreferrer">https://example.com/doc1.pdf</a>).</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ответы-1">Ответы:<a href="#ответы-1" class="hash-link" aria-label="Прямая ссылка на Ответы:" title="Прямая ссыл ка на Ответы:">​</a></h3>
<ul>
<li><code>202 Accepted</code> – команда на создание бота c указанием URL принята в обработку. Ответ будет содержать <code>command_id</code>.<!-- -->
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;command_id&quot;: &quot;some-unique-command-id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<p>Для отслеживания статуса выполнения используйте эндпоинты статуса команд.</p>
<p>ваш_url</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="создание-с-указанием-документов-из-jive">Создание с указанием документов из Jive<a href="#создание-с-указанием-документов-из-jive" class="hash-link" aria-label="Прямая ссылка на Создание с указанием документов из Jive" title="Прямая ссылка на Создание с указанием документов из Jive">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X PUT http://base_url:8080/indexapi/bot/bot_id/urls \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -H &quot;Authorization: Bearer YOUR_TOKEN_HERE&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -F &#x27;urls={&quot;type&quot;: &quot;jive&quot;, &quot;url&quot;: &quot;https://ваш_url/docs/DOC-3085&quot;, &quot;login&quot;: &quot;your_login&quot;, &quot;password&quot;: &quot;your_password&quot;}&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -F &quot;user_story=write_your_user_story_here&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Параметры аналогичны запросу с загрузкой файло в по URL, однако в поле urls для документа указывается JSON, параметры которого описаны ниже. Обратите внимание, что для корректной работы curl параметр urls должен указываться в одинарных кавычках, а ключи и значения json - в двойных.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="параметры-json-для-jive">Параметры JSON для Jive:<a href="#параметры-json-для-jive" class="hash-link" aria-label="Прямая ссылка на Параметры JSON для Jive:" title="Прямая ссылка на Параметры JSON для Jive:">​</a></h3>
<ul>
<li><code>type</code>: &quot;jive&quot; - указывает тип источника</li>
<li><code>url</code> - ссылка на документ Jive</li>
<li><code>login</code> и <code>password</code> - учетные данные для доступа к Jive</li>
</ul>
<p>Обрабатываются ссылки документации в формате <code>{ссылка на jive}/docs/DOC-{id документа}</code>. Оттуда выкачиваются документы и далее обрабатываются в стандартном процессе индексации файлов.</p>
<p>Для каждого документа необходимо заново указывать логин/пароль.</p>
<p>Есть возможность создать один индекс из разных пространств Jive.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="создание-с-указанием-ссылки-на-пространство-из-jive">Создание с указанием ссылки на пространство из Jive<a href="#создание-с-указанием-ссылки-на-пространство-из-jive" class="hash-link" aria-label="Прямая ссылка на Создание с указанием ссылки на пространство из Jive" title="Прямая ссылка на Создание с указанием ссылки на пространство из Jive">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X PUT http://base_url:8080/indexapi/bot/bot_id/urls \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -H &quot;Authorization: Bearer YOUR_TOKEN_HERE&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -F &#x27;urls={&quot;type&quot;: &quot;jive&quot;, &quot;url&quot;: &quot;https://ваш_url/community/knowledge/edu/docs&quot;, &quot;login&quot;: &quot;your_login&quot;, &quot;password&quot;: &quot;your_password&quot;}&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -F &quot;user_story=write_your_user_story_here&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Примеры ссылок на пространство:
<code>https://ваш_url/community/knowledge/edu/docs</code>
<code>https://ваш_url/groups/platforma</code></p>
<p>ссылки должны быть именно на корень пространства (без фильтров и <code>/content</code>)</p>
<p>Работаем с blogs groups projects spaces community
вынимаем все файлы из этих типов пространств (файлы по прямой ссылке и файлы из вложений).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="параметры-json-для-jive-1">Параметры JSON для Jive:<a href="#параметры-json-для-jive-1" class="hash-link" aria-label="Прямая ссылка на Параметры JSON для Jive:" title="Прямая ссылка на Параметры JSON для Jive:">​</a></h3>
<ul>
<li><code>type</code>: &quot;jive&quot; - указывает тип источника</li>
<li><code>url</code> - ссылка на пространство Jive</li>
<li><code>login</code> и <code>password</code> - учетные данные для доступа к Jive</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="создание-с-указанием-документов-из-confluence">Создание с указанием документов из Confluence<a href="#создание-с-указанием-документов-из-confluence" class="hash-link" aria-label="Прямая ссылка на Создание с указанием документов из Confluence" title="Прямая ссылка на Создание с указанием документов из Confluence">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X PUT http://base_url:8080/indexapi/bot/bot_id/urls \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -H &quot;Authorization: Bearer YOUR_TOKEN_HERE&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -F &#x27;urls={&quot;type&quot;: &quot;confluence&quot;, &quot;url&quot;: &quot;https://ваш_url/display/dotNet&quot;, &quot;api_key&quot;: &quot;YOUR_CONFLUENCE_API_KEY&quot;}&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -F &quot;user_story=write_your_user_story_here&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Параметры аналогичны запросу с загрузкой файлов по URL, однако в поле urls для документа указывается JSON.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="параметры-json-для-confluence">Параметры JSON для Confluence:<a href="#параметры-json-для-confluence" class="hash-link" aria-label="Прямая ссылка на Параметры JSON для Confluence:" title="Прямая ссылка на Параметры JSON для Confluence:">​</a></h3>
<ul>
<li><code>type</code>: &quot;confluence&quot; - указывает тип источника</li>
<li><code>url</code> - ссылка на документ или пространство Confluence</li>
<li><code>api_key</code> - токен для доступа к Confluence (Personal Access Token)</li>
</ul>
<p>Для Confluence поддерживается 2 вида ссылок:</p>
<ul>
<li>Текстовые (https://ваш_url/display/dotNet/Concurrency)</li>
<li>С pageid (https://ваш_url/pages/viewpage.action?pageId=244450657)</li>
</ul>
<p>Каждая ссылка может быть как простой страницей, содержание которой выкачивается, так и пространством/подпространством ссылок. Все страницы, зависимые вниз по иерархии от указанной страницы, выкачиваются в индекс вместе с ней. Страницы скачиваются в формате PDF, в верхней части документа прописывается путь в иерархии. Далее документы обрабатываются в стандартном процессе индексации файлов.</p>
<p>Для каждого документа необходимо заново указывать токен Confluence. Есть возможность создать один индекс из разных пространств Confluence.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="создание-с-указанием-документов-из-google-drive">Создание с указанием документов из Google Drive<a href="#создание-с-указанием-документов-из-google-drive" class="hash-link" aria-label="Прямая ссылка на Создание с указанием документов из Google Drive" title="Прямая ссылка на Создание с указанием документов из Google Drive">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X PUT http://base_url:8080/indexapi/bot/bot_id/urls \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -H &quot;Authorization: Bearer YOUR_TOKEN_HERE&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -F &#x27;urls={&quot;type&quot;: &quot;google_drive&quot;, &quot;url&quot;: &quot;https://drive.google.com/drive/folders/your_folder_id_or_file_id&quot;}&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -F &quot;user_story=write_your_user_story_here&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Параметры аналогичны запросу с загрузкой файлов по URL, однако в поле urls для документа указывается JSON. Обратите внимание, что для корректной работы curl параметр urls должен указываться в одинарных кавычках, а ключи и значения json - в двойных.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="параметры-json-для-google-drive">Параметры JSON для Google Drive:<a href="#параметры-json-для-google-drive" class="hash-link" aria-label="Прямая ссылка на Параметры JSON для Google Drive:" title="Прямая ссылка на Параметры JSON для Google Drive:">​</a></h3>
<ul>
<li><code>type</code>: &quot;google_drive&quot; - указывает тип источника</li>
<li><code>url</code> - ссылка на файл или папку в Google Drive. Если указана папка, все файлы из нее (и подпапок рекурсивно) будут включены.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="настройка-доступа-к-google-drive">Настройка доступа к Google Drive:<a href="#настройка-доступа-к-google-drive" class="hash-link" aria-label="Прямая ссылка на Настройка доступа к Google Drive:" title="Прямая ссылка на Настройка доступа к Google Drive:">​</a></h3>
<p>Для работы с Google Drive необходим файл google_credentials.json с учетными данными сервисного аккаунта Google Cloud. Подробнее - в <a href="https://developers.google.com/workspace/guides/create-credentials#service-account" target="_blank" rel="noopener noreferrer">документации Google</a></p>
<p>При запуске сервиса индексации (indexer) этот файл должен быть доступен. По умолчанию, indexer ищет его по пути /app/google_credentials.json внутри контейнера. Этот путь можно переопределить с помощью переменной окружения GOOGLE_CREDENTIALS_PATH.</p>
<p>Пример google_credentials.json:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;type&quot;: &quot;service_account&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;project_id&quot;: &quot;example-project-12345&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;private_key_id&quot;: &quot;your_private_key_id&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;private_key&quot;: &quot;-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY\n-----END PRIVATE KEY-----\n&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;client_email&quot;: &quot;your-service-account-email@example-project-12345.iam.gserviceaccount.com&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;client_id&quot;: &quot;your_client_id&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;auth_uri&quot;: &quot;https://accounts.google.com/o/oauth2/auth&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;token_uri&quot;: &quot;https://oauth2.googleapis.com/token&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;auth_provider_x509_cert_url&quot;: &quot;https://www.googleapis.com/oauth2/v1/certs&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;client_x509_cert_url&quot;: &quot;https://www.googleapis.com/robot/v1/metadata/x509/your-service-account-email%40example-project-12345.iam.gserviceaccount.com&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;universe_domain&quot;: &quot;googleapis.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="создание-с-указанием-документов-из-yandex-disk">Создание с указанием документов из Yandex Disk<a href="#создание-с-указанием-документов-из-yandex-disk" class="hash-link" aria-label="Прямая ссылка на Создание с указанием документов из Yandex Disk" title="Прямая ссылка на Создание с указанием документов из Yandex Disk">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X PUT http://base_url:8080/indexapi/bot/bot_id/urls \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -H &quot;Authorization: Bearer YOUR_TOKEN_HERE&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -F &#x27;urls={&quot;type&quot;: &quot;yandex_disk&quot;, &quot;url&quot;: &quot;https://disk.yandex.ru/d/your_public_file_or_folder_link&quot;}&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -F &quot;user_story=write_your_user_story_here&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Параметры аналогичны запросу с загрузкой файлов по URL, однако в поле urls для документа указывается JSON. Обратите внимание, что для корректной работы curl параметр urls должен указываться в одинарных кавычках, а ключи и значения json - в двойных.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="параметры-json-для-yandex-disk">Параметры JSON для Yandex Disk:<a href="#параметры-json-для-yandex-disk" class="hash-link" aria-label="Прямая ссылка на Параметры JSON для Yandex Disk:" title="Прямая ссылка на Параметры JSON для Yandex Disk:">​</a></h3>
<ul>
<li><code>type</code>: &quot;yandex_disk&quot; - указывает тип источника</li>
<li><code>url</code> - публичная ссылка на файл или папку на Яндекс.Диске. Если указана папка, все файлы из нее (и подпапок рекурсивно) будут включены.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="настройка-доступа-к-yandex-disk">Настройка доступа к Yandex Disk:<a href="#настройка-доступа-к-yandex-disk" class="hash-link" aria-label="Прямая ссылка на Настройка доступа к Yandex Disk:" title="Прямая ссылка на Настройка доступа к Yandex Disk:">​</a></h3>
<p>Для работы с Yandex Disk необходимо указать OAuth-токен через переменную окружения YANDEX_DISK_TOKEN.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="удаление-бота">Удаление бота<a href="#удаление-бота" class="hash-link" aria-label="Прямая ссылка на Удаление бота" title="Прямая ссылка на Удаление бота">​</a></h2>
<p>Удаление бота по его идентификатору.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X DELETE http://base_url:8080/indexapi/bot/bot_id -H &quot;Authorization: Bearer YOUR_TOKEN_HERE&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="описание">Описание<a href="#описание" class="hash-link" aria-label="Прямая ссылка на Описание" title="Прямая ссылка на Описание">​</a></h3>
<p>Позволяет инициировать удаление бота и его индексированных данных. Операция асинхронная.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="параметры">Параметры<a href="#параметры" class="hash-link" aria-label="Прямая ссылка на Параметры" title="Прямая ссылка на Параметры">​</a></h3>
<ul>
<li><code>bot_id</code> (string, path) – идентификатор бота.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="заголовки">Заголовки<a href="#заголовки" class="hash-link" aria-label="Прямая ссылка на Заголовки" title="Прямая ссылка на Заголовки">​</a></h3>
<ul>
<li><code>Authorization: Bearer YOUR_TOKEN_HERE</code> – токен доступа к API.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ответы-2">Ответы<a href="#ответы-2" class="hash-link" aria-label="Прямая ссылка на Ответы" title="Прямая ссылка на Ответы">​</a></h3>
<ul>
<li><code>202 Accepted</code> – команда на удаление бота принята в обработку. Ответ будет содержать <code>command_id</code>.<!-- -->
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;command_id&quot;: &quot;some-unique-command-id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Для отслеживания статуса выполнения используйте эндпоинты статуса команд.</li>
<li><code>404 Not Found</code> – бот не найден.</li>
<li><code>409 Conflict</code> – бот в процессе выполнения другой критической операции (например, удаление уже запущено), попробуйте позже.</li>
</ul>
<h1>Получение информации о существующих ботах</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="конкретный-бот">Конкретный бот<a href="#конкретный-бот" class="hash-link" aria-label="Прямая ссылка на Конкретный бот" title="Прямая ссылка на Конкретный бот">​</a></h2>
<p>Для получения информации о конкретном боте используйте следующий запрос:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET http://base_url:8080/indexapi/bot/bot_id -H &quot;Authorization: Bearer YOUR_TOKEN_HERE&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Этот эндпоинт возвращает подробную информацию о боте, включая его настройки и список файлов.</p>
<p>Пример ответа:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;name&quot;: &quot;bot_id&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;hello_text&quot;: &quot;\n&lt;h1&gt;Рад знакомству!&lt;/h1&gt;\n&lt;h1&gt;Я ваш личный ИИ-ассистент.&lt;/h1&gt;\n&lt;p&gt;Меня обучили отвечать на вопросы по вашим документам.&lt;/p&gt;\n&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;retrive_n&quot;: 5,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;support_n&quot;: 3,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;example_questions&quot;: [],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;user_story&quot;: &quot;test&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;bot_creator_credentials&quot;: &quot;qwe&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;files&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;http://is.local/documents/bot_id/bob.txt&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;http://is.local/documents/bot_id/alice.txt&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>После создания бота в Qdrant также будет доступна непустая коллекция с соответствующим именем (<code>bot_id</code>):</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">https://localhost:6333/dashboard#/collections</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Помимо созданных индексов в Qdrant находится служебная коллекция <code>botsinfo</code> (нельзя удалять, без неё невозможна корректная работа).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="все-боты">Все боты<a href="#все-боты" class="hash-link" aria-label="Прямая ссылка на Все боты" title="Прямая ссылка на Все боты">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET http://base_url:8080/indexapi/bots -H &quot;Authorization: Bearer YOUR_TOKEN_HERE&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Этот эндпоинт предоставляет подробную информацию обо всех ботах.</p>
<p>Пример ответа:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;bot_id_1&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;name&quot;: &quot;bot_id_1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;hello_text&quot;: &quot;\n&lt;h1&gt;Рад знакомству!&lt;/h1&gt;\n&lt;h1&gt;Я ваш личный ИИ-ассистент.&lt;/h1&gt;\n&lt;p&gt;Меня обучили отвечать на вопросы по вашим документам.&lt;/p&gt;\n&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;retrive_n&quot;: 5,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;support_n&quot;: 3,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;example_questions&quot;: [],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;user_story&quot;: &quot;test&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;bot_creator_credentials&quot;: &quot;qwe&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;files&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;http://is.local/documents/snark.txt&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;http://is.local/documents/alice.txt&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;bot_id_2&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Аналогичная информация для других ботов</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>Работа с документами внутри бота</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="добавление-или-обновление-документа-в-боте">Добавление или обновление документа в боте<a href="#добавление-или-обновление-документа-в-боте" class="hash-link" aria-label="Прямая ссылка на Добавление или обновление документа в боте" title="Прямая ссылка на Добавление или обновление документа в боте">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X PUT http://base_url:8080/indexapi/bot/bot_id/document \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -H &quot;Authorization: Bearer YOUR_TOKEN_HERE&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -F &quot;file=@/path/to/document.pdf&quot; \</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="описание-1">Описание<a href="#описание-1" class="hash-link" aria-label="Прямая ссылка на Описание" title="Прямая ссылка на Описание">​</a></h3>
<p>Позволяет инициировать добавление нового документа или обновление существующего в индексе бота.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="параметры-1">Параметры<a href="#параметры-1" class="hash-link" aria-label="Прямая ссылка на Параметры" title="Прямая ссылка на Параметры">​</a></h3>
<ul>
<li><code>bot_id</code> (string, path) – идентификатор бота.</li>
<li><code>file</code> (file, form) – файл документа.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="заголовки-1">Заголовки<a href="#заголовки-1" class="hash-link" aria-label="Прямая ссылка на Заголовки" title="Прямая ссылка на Заголовки">​</a></h3>
<ul>
<li><code>Authorization: Bearer YOUR_TOKEN_HERE</code> – ток ен доступа к API.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ответы-3">Ответы<a href="#ответы-3" class="hash-link" aria-label="Прямая ссылка на Ответы" title="Прямая ссылка на Ответы">​</a></h3>
<ul>
<li><code>202 Accepted</code> – команда на добавление/обновление документа принята. Ответ будет содержать <code>command_id</code>.<!-- -->
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;command_id&quot;: &quot;some-unique-command-id-for-doc-upsert&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Для отслеживания статуса выполнения используйте эндпоинты статуса команд.</li>
<li><code>404 Not Found</code> – бот не найден.</li>
<li><code>409 Conflict</code> – бот или данный документ в процессе обработки другой командой, попробуйте позже.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="добавление-или-обновление-документа-в-боте-по-url">Добавление или обновление документа в боте по URL<a href="#добавление-или-обновление-документа-в-боте-по-url" class="hash-link" aria-label="Прямая ссылка на Добавление или обновление документа в боте по URL" title="Прямая ссылка на Добавление или обновление документа в боте по URL">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X PUT http://base_url:8080/indexapi/bot/bot_id/document_by_url \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -H &quot;Authorization: Bearer YOUR_TOKEN_HERE&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -F &quot;url=https://example.com/doc1.pdf&quot; \</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="описание-2">Описание<a href="#описание-2" class="hash-link" aria-label="Прямая ссылка на Описание" title="Прямая ссылка на Описание">​</a></h3>
<p>Позволяет инициировать добавление нового документа или обновление существующего в индексе бота по URL.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="параметры-2">Параметры<a href="#параметры-2" class="hash-link" aria-label="Прямая ссылка на Параметры" title="Прямая ссылка на Параметры">​</a></h3>
<ul>
<li><code>bot_id</code> (string, path) – идентификатор бота.</li>
<li><code>url</code> (file, form) – прямая ссылка на документ.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="заголовки-2">Заголовки<a href="#заголовки-2" class="hash-link" aria-label="Прямая ссылка на Заголовки" title="Прямая ссылка на Заголовки">​</a></h3>
<ul>
<li><code>Authorization: Bearer YOUR_TOKEN_HERE</code> – токен доступа к API.</li>
</ul>
<p>Аналогично созданию бота с урл можно передать не только прямую ссылку но и json для Jive/Яндекс/Google Drive</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="добавление-или-обновление-документа-с-яндексдиска">Добавление или обновление документа с Яндекс.Диска<a href="#добавление-или-обновление-документа-с-яндексдиска" class="hash-link" aria-label="Прямая ссылка на Добавление или обновление документа с Яндекс.Диска" title="Прямая ссылка на Добавление или обновление документа с Яндекс.Диска">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X PUT http://base_url:8080/indexapi/bot/bot_id/document_by_url \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -H &quot;Authorization: Bearer YOUR_TOKEN_HERE&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -F &#x27;url={&quot;type&quot;: &quot;yandex_disk&quot;, &quot;url&quot;: &quot;https://disk.yandex.ru/d/your_file_id&quot;}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="параметры-json-для-yandex-disk-1">Параметры JSON для Yandex Disk:<a href="#параметры-json-для-yandex-disk-1" class="hash-link" aria-label="Прямая ссылка н а Параметры JSON для Yandex Disk:" title="Прямая ссылка на Параметры JSON для Yandex Disk:">​</a></h3>
<ul>
<li><code>type</code>: &quot;yandex_disk&quot; - указывает тип источника</li>
<li><code>url</code> - публичная ссылка на файл или папку на Яндекс.Диске. Если указана папка, все файлы из нее (и подпапок рекурсивно) будут включены.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="добавление-или-обновление-документа-с-jive">Добавление или обновление документа с jive<a href="#добавление-или-обновление-документа-с-jive" class="hash-link" aria-label="Прямая ссылка на Добавление или обновление документа с jive" title="Прямая ссылка на Добавление или обновление документа с jive">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X PUT http://base_url:8080/indexapi/bot/bot_id/document_by_url \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -H &quot;Authorization: Bearer YOUR_TOKEN_HERE&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -F &#x27;url={&quot;type&quot;: &quot;jive&quot;, &quot;url&quot;: &quot;https://ваш_url/docs/DOC-3345&quot;, &quot;login&quot;: &quot;your_login&quot;, &quot;password&quot;: &quot;your_password&quot;}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="параметры-json-для-jive-2">Параметры JSON для Jive:<a href="#параметры-json-для-jive-2" class="hash-link" aria-label="Прямая ссылка на Параметры JSON для Jive:" title="Прямая ссылка на Параметры JSON для Jive:">​</a></h3>
<ul>
<li><code>type</code>: &quot;jive&quot; - указывает тип источника</li>
<li><code>url</code> - ссылка на документ Jive</li>
<li><code>login</code> и <code>password</code> - учетные данные для доступа к Jive</li>
</ul>
<p>Обрабатываются ссылки документации в формате <code>{ссылка на jive}/docs/DOC-{id документа}</code>. Оттуда выкачиваются документы и далее обрабатываются в стандартном процессе индексации файлов.</p>
<p>Для каждого документа необходимо заново указывать логин/пароль.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="добавление-или-обновление-пространства-с-jive">Добавление или обновление пространства с jive<a href="#добавление-или-обновление-пространства-с-jive" class="hash-link" aria-label="Прямая ссылка на Добавление или обновление пространства с jive" title="Прямая ссылка на Добавление или обновление пространства с jive">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X PUT http://base_url:8080/indexapi/bot/bot_id/document_by_url \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -H &quot;Authorization: Bearer YOUR_TOKEN_HERE&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -F &#x27;url={&quot;type&quot;: &quot;jive&quot;, &quot;url&quot;: &quot;https://ваш_url/groups/platforma_test&quot;, &quot;login&quot;: &quot;your_login&quot;, &quot;password&quot;: &quot;your_password&quot;}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="параметры-json-для-jive-3">Параметры JSON для Jive:<a href="#параметры-json-для-jive-3" class="hash-link" aria-label="Прямая ссылка на Параметры JSON для Jive:" title="Прямая ссылка на Параметры JSON для Jive:">​</a></h3>
<ul>
<li><code>type</code>: &quot;jive&quot; - указывает тип источника</li>
<li><code>url</code> - ссылка на пространство Jive</li>
<li><code>login</code> и <code>password</code> - учетные данные для доступа к Jive</li>
</ul>
<p>Ссылки нужны именно на корень пространства (без фильтров и /content)</p>
<p>работаем с blogs groups projects spaces community
вынимаем все файлы из этих типов пространств (файлы по прямой ссылке и файлы из вложений) и далее обрабатываем в стандартном процессе индексации файлов.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="добавление-или-обновление-документа-с-google-drive">Добавление или обновление документа с Google Drive<a href="#добавление-или-обновление-документа-с-google-drive" class="hash-link" aria-label="Прямая ссылка на Добавление или обновление документа с Google Drive" title="Прямая ссылка на Добавление или обновление документа с Google Drive">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X PUT http://base_url:8080/indexapi/bot/bot_id/document_by_url \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -H &quot;Authorization: Bearer YOUR_TOKEN_HERE&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -F &#x27;url={&quot;type&quot;: &quot;google_drive&quot;, &quot;url&quot;: &quot;https://drive.google.com/file/d/your_file_id&quot;}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="параметры-json-для-google-drive-1">Параметры JSON для Google Drive:<a href="#параметры-json-для-google-drive-1" class="hash-link" aria-label="Прямая ссылка на Параметры JSON для Google Drive:" title="Прямая ссылка на Параметры JSON для Google Drive:">​</a></h3>
<ul>
<li><code>type</code>: &quot;google_drive&quot; - указывает тип источника</li>
<li><code>url</code> - ссылка на файл или папку в Google Drive. Если указана папка, все файлы из нее (и подпапок рекурсивно) будут включены.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="удаление-документа-из-бота">Удаление документа из бота<a href="#удаление-документа-из-бота" class="hash-link" aria-label="Прямая ссылка на Удаление д окумента из бота" title="Прямая ссылка на Удаление документа из бота">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X DELETE http://base_url:8080/indexapi/bot/bot_id/document/doc_name -H &quot;Authorization: Bearer YOUR_TOKEN_HERE&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="описание-3">Описание<a href="#описание-3" class="hash-link" aria-label="Прямая ссылка на Описание" title="Прямая ссылка на Описание">​</a></h3>
<p>Инициирует удаление указанного документа из индекса бота. Операция асинхронная.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="параметры-3">Параметры<a href="#параметры-3" class="hash-link" aria-label="Прямая ссылка на Параметры" title="Прямая ссылка на Параметры">​</a></h3>
<ul>
<li><code>bot_id</code> (string, path) – идентификатор бота.</li>
<li><code>doc_name</code> (string, path) – имя документа.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="заголовки-3">Заголовки<a href="#заголовки-3" class="hash-link" aria-label="Прямая ссылка на Заголовки" title="Прямая ссылка на Заголовки">​</a></h3>
<ul>
<li><code>Authorization: Bearer YOUR_TOKEN_HERE</code> – токен доступа к API.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ответы-4">Ответы<a href="#ответы-4" class="hash-link" aria-label="Прямая ссылка на Ответы" title="Прямая ссылка на Ответы">​</a></h3>
<ul>
<li><code>202 Accepted</code> – команда на удаление документа принята. Ответ будет содержать <code>command_id</code>.<!-- -->
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;command_id&quot;: &quot;some-unique-command-id-for-doc-delete&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->Для отслеживания статуса выполнения используйте эндпоинты статуса команд.</li>
<li><code>404 Not Found</code> – бот или документ не найдены.</li>
<li><code>409 Conflict</code> – бот или документ в процессе обработки другой командой, попробуйте позже.</li>
</ul>
<h1>Отслеживание статусов операций</h1>
<p>Операции создания/удаления бота (ассистента) или добавления/удаления документа являются асинхронными. При успешном принятии запроса API возвращает <code>command_id</code>. Предпочтительно использовать этот универсальный идентификатор для отслеживания статуса выполнения команды.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="получение-статуса-всех-операций-для-бота">Получение статуса всех операций для бота<a href="#получение-статуса-всех-операций-для-бота" class="hash-link" aria-label="Прямая ссылка на Получение статуса всех операций для бота" title="Прямая ссылка на Получение статуса всех операций для бота">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET http://base_url:8080/indexapi/bot/bot_id/commands -H &quot;Authorization: Bearer YOUR_TOKEN_HERE&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Возвращает список JSON-объектов с описаниями всех активных или недавно завершенных команд для указанного <code>bot_id</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="пример-ответа">Пример ответа:<a href="#пример-ответа" class="hash-link" aria-label="Прямая ссылка на Пример ответа:" title="Прямая ссылка на Пример ответа:">​</a></h3>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;command_id_1&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;status&quot;: &quot;processing&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;progress&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;documents&quot;: { </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;total&quot;: 98, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;complete&quot;: 76 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;current_document&quot;: { </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;total&quot;: 54, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;complete&quot;: 32 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;command_id_2&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;status&quot;: &quot;complete&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="описание-полей-ответа">Описание полей ответа:<a href="#описание-полей-ответа" class="hash-link" aria-label="Прямая ссылка на Описание полей ответа:" title="Прямая ссылка на Описание полей ответа:">​</a></h3>
<ul>
<li><code>command_id</code>: Уникальный идентификатор команды</li>
<li><code>status</code>: Текущий статус команды (возможные значения: &quot;processing&quot;, &quot;complete&quot; и др.)</li>
<li><code>progress</code>: Информация о прогрессе выполнения команды (присутствует только для индексации бота или новых документов в процессе выполнения)<!-- -->
<ul>
<li><code>documents</code>: Прогресс обработки на уровне документов в боте<!-- -->
<ul>
<li><code>total</code>: Общее количество документов для обработки</li>
<li><code>complete</code>: Количество уже обработанных документов</li>
</ul>
</li>
<li><code>current_document</code>: Прогресс обработки на уровне одного документа<!-- -->
<ul>
<li><code>total</code>: Общее количество чанков в текущем документе</li>
<li><code>complete</code>: Количество уже обработанных чанков в текущем документе</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="получение-статуса-конкретной-команды">Получение статуса конкретной команды<a href="#получение-статуса-конкретной-команды" class="hash-link" aria-label="Прямая ссылка на Получение статуса конкретной команды" title="Прямая ссылка на Получение статуса конкретной команды">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET http://base_url:8080/indexapi/bot/bot_id/command/your_command_id -H &quot;Authorization: Bearer YOUR_TOKEN_HERE&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Где <code>your_command_id</code> - идентификатор команды, полученный при ее инициации.</p>
<p><strong>Формат ответа:</strong> JSON-объект, содержащий следующие поля:</p>
<ul>
<li><strong>status</strong> (string): Текущий статус команды. Возможные значения:<!-- -->
<ul>
<li><strong>pending</strong>: Команда ожидает начала выполнения.</li>
<li><strong>processing</strong>: Команда в процессе выполнения.</li>
<li><strong>complete</strong>: Команда успешно выполнена.</li>
<li><strong>error</strong>: При выполнении команды произошла ошибка.</li>
<li><strong>canceled</strong>: Команда была отменена.</li>
</ul>
</li>
</ul>
<p><strong>Важное замечание по статусам complete, error, canceled:</strong> Статусы <code>complete</code>, <code>error</code>, <code>canceled</code> показываются только один раз, после этого считается, что статус уже просмотрен и дальше при запросе статуса этой команды может возвращаться <code>&quot;error&quot;: &quot;not found&quot;</code></p>
<h1>Другие инструменты отслеживания статусов</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="проверка-статуса-всех-документов-бота">Проверка статуса всех документов бота<a href="#проверка-статуса-всех-документов-бота" class="hash-link" aria-label="Прямая ссылка на Проверка статуса всех документов бота" title="Прямая ссылка на Проверка статуса всех документов бота">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl http://base_url:8080/indexapi/bot/bot_id/documents -H &quot;Authorization: Bearer YOUR_TOKEN_HERE&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="описание-4">Описание<a href="#описание-4" class="hash-link" aria-label="Прямая ссылка на Описание" title="Прямая ссылка на Описание">​</a></h4>
<p>Возвращает статусы всех документов, загруженных в бота.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="параметры-4">Параметры<a href="#параметры-4" class="hash-link" aria-label="Прямая ссылка на Параметры" title="Прямая ссылка на Параметры">​</a></h4>
<ul>
<li><code>index_id</code> (string, path) – идентификатор бота.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ответы-5">Ответы<a href="#ответы-5" class="hash-link" aria-label="Прямая ссылка на Ответы" title="Прямая ссылка на Ответы">​</a></h4>
<ul>
<li><code>200 OK</code> – список статусов успешно получен.</li>
<li><code>404 Not Found</code> – бот не найден или у бота нет загруженных документов.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="проверка-статуса-документа">Проверка статуса документа<a href="#проверка-статуса-документа" class="hash-link" aria-label="Прямая ссылка на Проверка статуса документа" title="Прямая ссылка на Проверка статуса документа">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl http://base_url:8080/indexapi/bot/bot_id/document/doc_name -H &quot;Authorization: Bearer YOUR_TOKEN_HERE&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="описание-5">Описание<a href="#описание-5" class="hash-link" aria-label="Прямая ссылка на Описание" title="Прямая ссылка на Описание">​</a></h4>
<p>Возвращает текущий статус обработки документа в боте.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="параметры-5">Параметры<a href="#параметры-5" class="hash-link" aria-label="Прямая ссылка на Параметры" title="Прямая ссылка на Параметры">​</a></h4>
<ul>
<li><code>index_id</code> (string, path) – идентификатор бота.</li>
<li><code>doc_name</code> (string, path) – имя документа.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ответы-6">Ответы<a href="#ответы-6" class="hash-link" aria-label="Прямая ссылка на Ответы" title="Прямая ссылка на Ответы">​</a></h4>
<ul>
<li><code>200 OK</code> – статус успешно получен.</li>
<li><code>404 Not Found</code> – бот или документ не найдены.</li>
<li><code>409 Conflict</code> – ошибка при обработке документа.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/compressa-ai/compressa-ai.github.io/edit/main/i18n/ru/docusaurus-plugin-content-docs/current/is_local/API/04_1_Management_API.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Отредактировать эту страницу</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Страница документа"><a class="pagination-nav__link pagination-nav__link--prev" href="/is_local/API/"><div class="pagination-nav__sublabel">Предыдущая страница</div><div class="pagination-nav__label">Работа через API</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/is_local/API/04_2_Assistant-Api-Search"><div class="pagination-nav__sublabel">Следующая страница</div><div class="pagination-nav__label">Поиск информации (вопрос-ответ)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#создание-с-загрузкой-файлов" class="table-of-contents__link toc-highlight">Создание с загрузкой файлов</a><ul><li><a href="#примеры-user_story" class="table-of-contents__link toc-highlight">Примеры user_story:</a></li><li><a href="#ответы" class="table-of-contents__link toc-highlight">Ответы:</a></li></ul></li><li><a href="#создание-с-указанием-файлов-по-url" class="table-of-contents__link toc-highlight">Создание с указанием файлов по URL</a><ul><li><a href="#ответы-1" class="table-of-contents__link toc-highlight">Ответы:</a></li></ul></li><li><a href="#создание-с-указанием-документов-из-jive" class="table-of-contents__link toc-highlight">Создание с указанием документов из Jive</a><ul><li><a href="#параметры-json-для-jive" class="table-of-contents__link toc-highlight">Параметры JSON для Jive:</a></li></ul></li><li><a href="#создание-с-указанием-ссылки-на-пространство-из-jive" class="table-of-contents__link toc-highlight">Создание с указанием ссылки на пространство из Jive</a><ul><li><a href="#параметры-json-для-jive-1" class="table-of-contents__link toc-highlight">Параметры JSON для Jive:</a></li></ul></li><li><a href="#создание-с-указанием-документов-из-confluence" class="table-of-contents__link toc-highlight">Создание с указанием документов из Confluence</a><ul><li><a href="#параметры-json-для-confluence" class="table-of-contents__link toc-highlight">Параметры JSON для Confluence:</a></li></ul></li><li><a href="#создание-с-указанием-документов-из-google-drive" class="table-of-contents__link toc-highlight">Создание с указанием документов из Google Drive</a><ul><li><a href="#параметры-json-для-google-drive" class="table-of-contents__link toc-highlight">Параметры JSON для Google Drive:</a></li><li><a href="#настройка-доступа-к-google-drive" class="table-of-contents__link toc-highlight">Настройка доступа к Google Drive:</a></li></ul></li><li><a href="#создание-с-указанием-документов-из-yandex-disk" class="table-of-contents__link toc-highlight">Создание с указанием документов из Yandex Disk</a><ul><li><a href="#параметры-json-для-yandex-disk" class="table-of-contents__link toc-highlight">Параметры JSON для Yandex Disk:</a></li><li><a href="#настройка-доступа-к-yandex-disk" class="table-of-contents__link toc-highlight">Настройка доступа к Yandex Disk:</a></li></ul></li><li><a href="#удаление-бота" class="table-of-contents__link toc-highlight">Удаление бота</a><ul><li><a href="#описание" class="table-of-contents__link toc-highlight">Описание</a></li><li><a href="#параметры" class="table-of-contents__link toc-highlight">Параметры</a></li><li><a href="#заголовки" class="table-of-contents__link toc-highlight">Заголовки</a></li><li><a href="#ответы-2" class="table-of-contents__link toc-highlight">Ответы</a></li></ul></li><li><a href="#конкретный-бот" class="table-of-contents__link toc-highlight">Конкретный бот</a></li><li><a href="#все-боты" class="table-of-contents__link toc-highlight">Все боты</a></li><li><a href="#добавление-или-обновление-документа-в-боте" class="table-of-contents__link toc-highlight">Добавление или обновление документа в боте</a><ul><li><a href="#описание-1" class="table-of-contents__link toc-highlight">Описание</a></li><li><a href="#параметры-1" class="table-of-contents__link toc-highlight">Параметры</a></li><li><a href="#заголовки-1" class="table-of-contents__link toc-highlight">Заголовки</a></li><li><a href="#ответы-3" class="table-of-contents__link toc-highlight">Ответы</a></li></ul></li><li><a href="#добавление-или-обновление-документа-в-боте-по-url" class="table-of-contents__link toc-highlight">Добавление или обновление документа в боте по URL</a><ul><li><a href="#описание-2" class="table-of-contents__link toc-highlight">Описание</a></li><li><a href="#параметры-2" class="table-of-contents__link toc-highlight">Параметры</a></li><li><a href="#заголовки-2" class="table-of-contents__link toc-highlight">Заголовки</a></li><li><a href="#добавление-или-обновление-документа-с-яндексдиска" class="table-of-contents__link toc-highlight">Добавление или обновление документа с Яндекс.Диска</a></li><li><a href="#параметры-json-для-yandex-disk-1" class="table-of-contents__link toc-highlight">Параметры JSON для Yandex Disk:</a></li><li><a href="#добавление-или-обновление-документа-с-jive" class="table-of-contents__link toc-highlight">Добавление или обновление документа с jive</a></li><li><a href="#параметры-json-для-jive-2" class="table-of-contents__link toc-highlight">Параметр ы JSON для Jive:</a></li><li><a href="#добавление-или-обновление-пространства-с-jive" class="table-of-contents__link toc-highlight">Добавление или обновление пространства с jive</a></li><li><a href="#параметры-json-для-jive-3" class="table-of-contents__link toc-highlight">Параметры JSON для Jive:</a></li><li><a href="#добавление-или-обновление-документа-с-google-drive" class="table-of-contents__link toc-highlight">Добавление или обновление документа с Google Drive</a></li><li><a href="#параметры-json-для-google-drive-1" class="table-of-contents__link toc-highlight">Параметры JSON для Google Drive:</a></li></ul></li><li><a href="#удаление-документа-из-бота" class="table-of-contents__link toc-highlight">Удаление документа из бота</a><ul><li><a href="#описание-3" class="table-of-contents__link toc-highlight">Описание</a></li><li><a href="#параметры-3" class="table-of-contents__link toc-highlight">Параметры</a></li><li><a href="#заголовки-3" class="table-of-contents__link toc-highlight">Заголовки</a></li><li><a href="#ответы-4" class="table-of-contents__link toc-highlight">Ответы</a></li></ul></li><li><a href="#получение-статуса-всех-операций-для-бота" class="table-of-contents__link toc-highlight">Получение статуса всех операций для бота</a><ul><li><a href="#пример-ответа" class="table-of-contents__link toc-highlight">Пример ответа:</a></li><li><a href="#описание-полей-ответа" class="table-of-contents__link toc-highlight">Описание полей ответа:</a></li></ul></li><li><a href="#получение-статуса-конкретной-команды" class="table-of-contents__link toc-highlight">Получение статуса конкретной команды</a></li><li><a href="#проверка-статуса-всех-документов-бота" class="table-of-contents__link toc-highlight">Проверка статуса всех документов бота</a></li><li><a href="#проверка-статуса-документа" class="table-of-contents__link toc-highlight">Проверка статуса документа</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Compressa, Inc.</div></div></div></footer></div>
</body>
</html>